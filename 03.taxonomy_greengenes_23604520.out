The flag 'directory' used in rule all is only valid for outputs, not inputs.
Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 4
Rules claiming more threads will be scaled down.
Job stats:
job                             count
----------------------------  -------
all                                 1
classify_features                   1
diversity                           1
filter_mito_chloro                  1
filter_samples_read_number          1
filter_sequences_read_number        1
make_tree                           1
rarefaction                         1
taxonomy_barplot                    1
visualize_features                  1
visualize_filtered                  1
total                              11

Resources before job selection: {'_cores': 4, '_nodes': 9223372036854775807}
Ready jobs (2)
Select jobs to execute...
Welcome to the CBC MILP Solver 
Version: 2.10.12 
Build Date: Sep  3 2024 

command line - cbc /scratch/alpine/c829993361@colostate.edu/.tmp/d86b8fbc8fd041efb049fbba7d83e9bd-pulp.mps max timeMode elapsed branch printingOptions all solution /scratch/alpine/c829993361@colostate.edu/.tmp/d86b8fbc8fd041efb049fbba7d83e9bd-pulp.sol (default strategy 1)
At line 2 NAME          MODEL
At line 3 ROWS
At line 7 COLUMNS
At line 18 RHS
At line 21 BOUNDS
At line 24 ENDATA
Problem MODEL has 2 rows, 2 columns and 4 elements
Coin0008I MODEL read with 0 errors
Option for timeMode changed from cpu to elapsed
Continuous objective value is 4 - 0.00 seconds
Cgl0004I processed model has 0 rows, 0 columns (0 integer (0 of which binary)) and 0 elements
Cbc3007W No integer variables - nothing to do
Cuts at root node changed objective from 4 to 1.79769e+308
Probing was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
Gomory was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
Knapsack was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
Clique was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
MixedIntegerRounding2 was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
FlowCover was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
TwoMirCuts was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
ZeroHalf was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)

Result - Optimal solution found

Objective value:                4.00000000
Enumerated nodes:               0
Total iterations:               0
Time (CPU seconds):             0.00
Time (Wallclock seconds):       0.01

Option for printingOptions changed from normal to all
Total time (CPU seconds):       0.00   (Wallclock seconds):       0.23

Selected jobs (2)
Resources after job selection: {'_cores': 2, '_nodes': 9223372036854775805}

[Fri Feb  6 16:10:30 2026]
rule make_tree:
    input: 02_repSeqs_uterine_swab.qza, /projects/c829993361@colostate.edu/microbiome_taxonomy/greengenes_2022.10/ftp.microbio.me/greengenes_release/2022.10-rc1/2022.10.backbone.sepp-reference.qza
    output: 03_uterine_swab_tree_greengenes.qza, 03_uterine_swab_tree_placements_greengenes.qza
    jobid: 10
    reason: Missing output files: 03_uterine_swab_tree_greengenes.qza
    resources: tmpdir=/scratch/alpine/c829993361@colostate.edu/.tmp

qiime fragment-insertion sepp 		--i-representative-sequences 02_repSeqs_uterine_swab.qza 		--i-reference-database /projects/c829993361@colostate.edu/microbiome_taxonomy/greengenes_2022.10/ftp.microbio.me/greengenes_release/2022.10-rc1/2022.10.backbone.sepp-reference.qza 		--p-threads 12 		--o-tree 03_uterine_swab_tree_greengenes.qza 		--o-placements 03_uterine_swab_tree_placements_greengenes.qza

[Fri Feb  6 16:10:30 2026]
rule classify_features:
    input: 02_repSeqs_uterine_swab.qza, /projects/c829993361@colostate.edu/microbiome_taxonomy/greengenes_2022.10/ftp.microbio.me/greengenes_release/2022.10-rc1/2022.10.backbone.v4.nb.qza
    output: 03_uterine_swab_taxonomy_greengenes.qza
    jobid: 5
    reason: Missing output files: 03_uterine_swab_taxonomy_greengenes.qza
    resources: tmpdir=/scratch/alpine/c829993361@colostate.edu/.tmp

qiime feature-classifier classify-sklearn 		--i-reads 02_repSeqs_uterine_swab.qza 		--i-classifier /projects/c829993361@colostate.edu/microbiome_taxonomy/greengenes_2022.10/ftp.microbio.me/greengenes_release/2022.10-rc1/2022.10.backbone.v4.nb.qza 		--o-classification 03_uterine_swab_taxonomy_greengenes.qza
Plugin error from feature-classifier:

  The scikit-learn version (0.24.1) used to generate this artifact does not match the current version of scikit-learn installed (1.4.2). Please retrain your classifier for your current deployment to prevent data-corruption errors.

Debug info has been saved to /scratch/alpine/c829993361@colostate.edu/.tmp/qiime2-q2cli-err-0erl48r0.log
Full Traceback (most recent call last):
  File "/projects/c829993361@colostate.edu/software/anaconda/envs/qiime2-amplicon-2024.10/lib/python3.10/site-packages/snakemake/executors/__init__.py", line 2656, in run_wrapper
    run(
  File "/gpfs/alpine1/scratch/c829993361@colostate.edu/Equine_Microbiome_Uterine_Swabs/03.taxonomy_greengenes", line 38, in __rule_classify_features
    shell:
  File "/projects/c829993361@colostate.edu/software/anaconda/envs/qiime2-amplicon-2024.10/lib/python3.10/site-packages/snakemake/shell.py", line 294, in __new__
    raise sp.CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command 'set -euo pipefail;  qiime feature-classifier classify-sklearn 		--i-reads 02_repSeqs_uterine_swab.qza 		--i-classifier /projects/c829993361@colostate.edu/microbiome_taxonomy/greengenes_2022.10/ftp.microbio.me/greengenes_release/2022.10-rc1/2022.10.backbone.v4.nb.qza 		--o-classification 03_uterine_swab_taxonomy_greengenes.qza' returned non-zero exit status 1.

[Fri Feb  6 16:10:55 2026]
Error in rule classify_features:
    jobid: 5
    input: 02_repSeqs_uterine_swab.qza, /projects/c829993361@colostate.edu/microbiome_taxonomy/greengenes_2022.10/ftp.microbio.me/greengenes_release/2022.10-rc1/2022.10.backbone.v4.nb.qza
    output: 03_uterine_swab_taxonomy_greengenes.qza
    shell:
        qiime feature-classifier classify-sklearn 		--i-reads 02_repSeqs_uterine_swab.qza 		--i-classifier /projects/c829993361@colostate.edu/microbiome_taxonomy/greengenes_2022.10/ftp.microbio.me/greengenes_release/2022.10-rc1/2022.10.backbone.v4.nb.qza 		--o-classification 03_uterine_swab_taxonomy_greengenes.qza
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Full Traceback (most recent call last):
  File "/projects/c829993361@colostate.edu/software/anaconda/envs/qiime2-amplicon-2024.10/lib/python3.10/site-packages/snakemake/executors/__init__.py", line 2656, in run_wrapper
    run(
  File "/gpfs/alpine1/scratch/c829993361@colostate.edu/Equine_Microbiome_Uterine_Swabs/03.taxonomy_greengenes", line 38, in __rule_classify_features
    shell:
  File "/projects/c829993361@colostate.edu/software/anaconda/envs/qiime2-amplicon-2024.10/lib/python3.10/site-packages/snakemake/shell.py", line 294, in __new__
    raise sp.CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command 'set -euo pipefail;  qiime feature-classifier classify-sklearn 		--i-reads 02_repSeqs_uterine_swab.qza 		--i-classifier /projects/c829993361@colostate.edu/microbiome_taxonomy/greengenes_2022.10/ftp.microbio.me/greengenes_release/2022.10-rc1/2022.10.backbone.v4.nb.qza 		--o-classification 03_uterine_swab_taxonomy_greengenes.qza' returned non-zero exit status 1.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/projects/c829993361@colostate.edu/software/anaconda/envs/qiime2-amplicon-2024.10/lib/python3.10/site-packages/snakemake/executors/__init__.py", line 715, in _callback
    raise ex
  File "/projects/c829993361@colostate.edu/software/anaconda/envs/qiime2-amplicon-2024.10/lib/python3.10/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/projects/c829993361@colostate.edu/software/anaconda/envs/qiime2-amplicon-2024.10/lib/python3.10/site-packages/snakemake/executors/__init__.py", line 699, in cached_or_run
    run_func(*args)
  File "/projects/c829993361@colostate.edu/software/anaconda/envs/qiime2-amplicon-2024.10/lib/python3.10/site-packages/snakemake/executors/__init__.py", line 2692, in run_wrapper
    raise RuleException(
snakemake.exceptions.RuleException: CalledProcessError in file /gpfs/alpine1/scratch/c829993361@colostate.edu/Equine_Microbiome_Uterine_Swabs/03.taxonomy_greengenes, line 16:
Command 'set -euo pipefail;  qiime feature-classifier classify-sklearn 		--i-reads 02_repSeqs_uterine_swab.qza 		--i-classifier /projects/c829993361@colostate.edu/microbiome_taxonomy/greengenes_2022.10/ftp.microbio.me/greengenes_release/2022.10-rc1/2022.10.backbone.v4.nb.qza 		--o-classification 03_uterine_swab_taxonomy_greengenes.qza' returned non-zero exit status 1.
  File "/gpfs/alpine1/scratch/c829993361@colostate.edu/Equine_Microbiome_Uterine_Swabs/03.taxonomy_greengenes", line 16, in __rule_classify_features

RuleException:
CalledProcessError in file /gpfs/alpine1/scratch/c829993361@colostate.edu/Equine_Microbiome_Uterine_Swabs/03.taxonomy_greengenes, line 16:
Command 'set -euo pipefail;  qiime feature-classifier classify-sklearn 		--i-reads 02_repSeqs_uterine_swab.qza 		--i-classifier /projects/c829993361@colostate.edu/microbiome_taxonomy/greengenes_2022.10/ftp.microbio.me/greengenes_release/2022.10-rc1/2022.10.backbone.v4.nb.qza 		--o-classification 03_uterine_swab_taxonomy_greengenes.qza' returned non-zero exit status 1.
  File "/gpfs/alpine1/scratch/c829993361@colostate.edu/Equine_Microbiome_Uterine_Swabs/03.taxonomy_greengenes", line 16, in __rule_classify_features
  File "/projects/c829993361@colostate.edu/software/anaconda/envs/qiime2-amplicon-2024.10/lib/python3.10/concurrent/futures/thread.py", line 58, in run
Plugin error from fragment-insertion:

  Command '['run-sepp.sh', '/scratch/alpine/c829993361@colostate.edu/.tmp/qiime2/c829993361@colostate.edu/data/8fcf2d56-8bc9-4bfc-9d2d-af0e8a8941d3/data/dna-sequences.fasta', 'q2-fragment-insertion', '-x', '12', '-A', '1000', '-P', '5000', '-a', '/scratch/alpine/c829993361@colostate.edu/.tmp/qiime2/c829993361@colostate.edu/data/9e8f6bb7-1444-4e32-b5fd-92cd5823d3ee/data/aligned-dna-sequences.fasta', '-t', '/scratch/alpine/c829993361@colostate.edu/.tmp/qiime2/c829993361@colostate.edu/data/9e8f6bb7-1444-4e32-b5fd-92cd5823d3ee/data/tree.nwk', '-r', '/scratch/alpine/c829993361@colostate.edu/.tmp/qiime2/c829993361@colostate.edu/data/9e8f6bb7-1444-4e32-b5fd-92cd5823d3ee/data/raxml-info.txt']' returned non-zero exit status 137.

Debug info has been saved to /scratch/alpine/c829993361@colostate.edu/.tmp/qiime2-q2cli-err-7jprtezg.log
Full Traceback (most recent call last):
  File "/projects/c829993361@colostate.edu/software/anaconda/envs/qiime2-amplicon-2024.10/lib/python3.10/site-packages/snakemake/executors/__init__.py", line 2656, in run_wrapper
    run(
  File "/gpfs/alpine1/scratch/c829993361@colostate.edu/Equine_Microbiome_Uterine_Swabs/03.taxonomy_greengenes", line 240, in __rule_make_tree
  File "/projects/c829993361@colostate.edu/software/anaconda/envs/qiime2-amplicon-2024.10/lib/python3.10/site-packages/snakemake/shell.py", line 294, in __new__
    raise sp.CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command 'set -euo pipefail;  qiime fragment-insertion sepp 		--i-representative-sequences 02_repSeqs_uterine_swab.qza 		--i-reference-database /projects/c829993361@colostate.edu/microbiome_taxonomy/greengenes_2022.10/ftp.microbio.me/greengenes_release/2022.10-rc1/2022.10.backbone.sepp-reference.qza 		--p-threads 12 		--o-tree 03_uterine_swab_tree_greengenes.qza 		--o-placements 03_uterine_swab_tree_placements_greengenes.qza' returned non-zero exit status 1.

[Fri Feb  6 16:43:37 2026]
Error in rule make_tree:
    jobid: 10
    input: 02_repSeqs_uterine_swab.qza, /projects/c829993361@colostate.edu/microbiome_taxonomy/greengenes_2022.10/ftp.microbio.me/greengenes_release/2022.10-rc1/2022.10.backbone.sepp-reference.qza
    output: 03_uterine_swab_tree_greengenes.qza, 03_uterine_swab_tree_placements_greengenes.qza
    shell:
        qiime fragment-insertion sepp 		--i-representative-sequences 02_repSeqs_uterine_swab.qza 		--i-reference-database /projects/c829993361@colostate.edu/microbiome_taxonomy/greengenes_2022.10/ftp.microbio.me/greengenes_release/2022.10-rc1/2022.10.backbone.sepp-reference.qza 		--p-threads 12 		--o-tree 03_uterine_swab_tree_greengenes.qza 		--o-placements 03_uterine_swab_tree_placements_greengenes.qza
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Full Traceback (most recent call last):
  File "/projects/c829993361@colostate.edu/software/anaconda/envs/qiime2-amplicon-2024.10/lib/python3.10/site-packages/snakemake/executors/__init__.py", line 2656, in run_wrapper
    run(
  File "/gpfs/alpine1/scratch/c829993361@colostate.edu/Equine_Microbiome_Uterine_Swabs/03.taxonomy_greengenes", line 240, in __rule_make_tree
  File "/projects/c829993361@colostate.edu/software/anaconda/envs/qiime2-amplicon-2024.10/lib/python3.10/site-packages/snakemake/shell.py", line 294, in __new__
    raise sp.CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command 'set -euo pipefail;  qiime fragment-insertion sepp 		--i-representative-sequences 02_repSeqs_uterine_swab.qza 		--i-reference-database /projects/c829993361@colostate.edu/microbiome_taxonomy/greengenes_2022.10/ftp.microbio.me/greengenes_release/2022.10-rc1/2022.10.backbone.sepp-reference.qza 		--p-threads 12 		--o-tree 03_uterine_swab_tree_greengenes.qza 		--o-placements 03_uterine_swab_tree_placements_greengenes.qza' returned non-zero exit status 1.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/projects/c829993361@colostate.edu/software/anaconda/envs/qiime2-amplicon-2024.10/lib/python3.10/site-packages/snakemake/executors/__init__.py", line 715, in _callback
    raise ex
  File "/projects/c829993361@colostate.edu/software/anaconda/envs/qiime2-amplicon-2024.10/lib/python3.10/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/projects/c829993361@colostate.edu/software/anaconda/envs/qiime2-amplicon-2024.10/lib/python3.10/site-packages/snakemake/executors/__init__.py", line 699, in cached_or_run
    run_func(*args)
  File "/projects/c829993361@colostate.edu/software/anaconda/envs/qiime2-amplicon-2024.10/lib/python3.10/site-packages/snakemake/executors/__init__.py", line 2692, in run_wrapper
    raise RuleException(
snakemake.exceptions.RuleException: CalledProcessError in file /gpfs/alpine1/scratch/c829993361@colostate.edu/Equine_Microbiome_Uterine_Swabs/03.taxonomy_greengenes, line 102:
Command 'set -euo pipefail;  qiime fragment-insertion sepp 		--i-representative-sequences 02_repSeqs_uterine_swab.qza 		--i-reference-database /projects/c829993361@colostate.edu/microbiome_taxonomy/greengenes_2022.10/ftp.microbio.me/greengenes_release/2022.10-rc1/2022.10.backbone.sepp-reference.qza 		--p-threads 12 		--o-tree 03_uterine_swab_tree_greengenes.qza 		--o-placements 03_uterine_swab_tree_placements_greengenes.qza' returned non-zero exit status 1.
  File "/gpfs/alpine1/scratch/c829993361@colostate.edu/Equine_Microbiome_Uterine_Swabs/03.taxonomy_greengenes", line 102, in __rule_make_tree

RuleException:
CalledProcessError in file /gpfs/alpine1/scratch/c829993361@colostate.edu/Equine_Microbiome_Uterine_Swabs/03.taxonomy_greengenes, line 102:
Command 'set -euo pipefail;  qiime fragment-insertion sepp 		--i-representative-sequences 02_repSeqs_uterine_swab.qza 		--i-reference-database /projects/c829993361@colostate.edu/microbiome_taxonomy/greengenes_2022.10/ftp.microbio.me/greengenes_release/2022.10-rc1/2022.10.backbone.sepp-reference.qza 		--p-threads 12 		--o-tree 03_uterine_swab_tree_greengenes.qza 		--o-placements 03_uterine_swab_tree_placements_greengenes.qza' returned non-zero exit status 1.
  File "/gpfs/alpine1/scratch/c829993361@colostate.edu/Equine_Microbiome_Uterine_Swabs/03.taxonomy_greengenes", line 102, in __rule_make_tree
  File "/projects/c829993361@colostate.edu/software/anaconda/envs/qiime2-amplicon-2024.10/lib/python3.10/concurrent/futures/thread.py", line 58, in run
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2026-02-06T161027.657990.snakemake.log
unlocking
removing lock
removing lock
removed all locks
slurmstepd: error: Detected 1 oom_kill event in StepId=23604520.batch. Some of the step tasks have been OOM Killed.
